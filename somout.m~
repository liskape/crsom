function [ a ] = somout( n, varargin )
%UNTITLED4 Summary of this function goes here
%   Detailed explanation goes here

if ischar(n)
%   a = nnet7.transfer_fcn(mfilename,n,varargin{:});
    a = compet(n);
    return;
end

  if isempty(n)
    a = n;
  else
    [S,Q] = size(n);
    nanInd = any(isnan(n),1);
    a = zeros(S,Q,'like',n);
    [~,maxRows] = max(n,[],1);
    onesInd = maxRows + S*(0:(Q-1));
    a(onesInd) = 1;
    a(:,nanInd) = NaN;
  end
  
  

end

